apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "autonomi.fullname" . }}
  labels:
    {{- include "autonomi.labels" . | nindent 4 }}
data:
  LOKI_LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  LOKI_AUDIT_ENABLED: {{ .Values.config.auditEnabled | quote }}
  LOKI_AUDIT_LOG_PATH: {{ .Values.config.auditLogPath | quote }}
  LOKI_CHECKPOINT_DIR: {{ .Values.config.checkpointDir | quote }}
  LOKI_MAX_WORKERS: {{ .Values.config.maxWorkers | quote }}
  LOKI_PROVIDER: {{ .Values.config.provider | quote }}
  LOKI_DASHBOARD_HOST: {{ .Values.config.dashboardHost | quote }}
  LOKI_DASHBOARD_PORT: {{ .Values.config.dashboardPort | quote }}
  {{- if .Values.config.otelEndpoint }}
  LOKI_OTEL_ENDPOINT: {{ .Values.config.otelEndpoint | quote }}
  {{- end }}
